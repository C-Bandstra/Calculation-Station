{"version":3,"sources":["Components/CalculationBoard/CalculationBoard.js","Components/Keyboard/Keyboard.js","Components/ResultScreen/ResultScreen.js","apiCalls.js","Components/Calculator/Calculator.js","Components/App/App.js","reportWebVitals.js","index.js"],"names":["CalculationBoard","currentState","className","fetchedCalculations","map","sequence","i","Keyboard","clearResult","updateShadow","currentSequence","storeResult","calculate","allClear","storeKey","updateCalculations","evaluate","a","result","updatedCalculations","grabKey","e","preventDefault","target","innerText","handleNumber","key","shadowTest","handleSymbol","regex","stringedSequence","toString","includes","test","onClick","event","ResultScreen","shadowResult","fetchCalculations","fetch","response","json","data","addCalculation","calculation","method","headers","body","JSON","stringify","calculationsResponse","console","log","error","Parser","require","Calculator","props","setState","beautifyResult","toFixed","Math","trunc","beautifySequence","split","join","state","replaceChar","oldChar","newChar","indexOf","index","input","sendCalculation","calculations","clickedKey","symbol","updatedState","checkSequence","this","Component","App","componentDidMount","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6efcb636.chunk.js","sourcesContent":["import React from 'react';\nimport './CalculationBoard.css';\n\nconst CalculationBoard = ({ currentState }) => {\n\n  const displayCalculations = () => {\n\n    return currentState.fetchedCalculations.map((sequence, i) => {\n      return <p key={i} className=\"hi\">{sequence}</p>\n    })\n  }\n\n  return (\n    <div className=\"calculation-board\">\n      {displayCalculations()}\n    </div>\n  )\n}\n\nexport default CalculationBoard","import React from 'react';\nimport './Keyboard.css';\n\nconst Keyboard = ({ \n  clearResult,\n  updateShadow,\n  currentSequence,\n  storeResult,\n  calculate,\n  allClear,\n  storeKey,\n  updateCalculations, }) => {\n\n  const evaluate = async () => {\n    let result = calculate()\n    let updatedCalculations = await storeResult(result, currentSequence);\n    updateCalculations(updatedCalculations)\n  }\n\n  const grabKey = (e) => {\n    e.preventDefault();\n    return e.target.innerText;\n  }\n\n  const handleNumber = async (e) => {\n    let key = grabKey(e)\n    clearResult();\n    await storeKey(key);\n    var regex = /\\d/g;\n    shadowTest(regex)\n  }\n\n  const handleSymbol = (e) => {\n    let key = grabKey(e)\n    storeKey(key, true);\n  }\n\n  const shadowTest = (regex) => {\n    let stringedSequence = currentSequence.toString()\n    if(stringedSequence.includes('(') && !stringedSequence.includes((')'))) {\n      return currentSequence\n    }\n\n    if(regex.test(currentSequence)) {\n      let result = calculate();\n      updateShadow(result)\n    }\n  }\n\n  return(\n    <div className=\"keyboard\">\n      <section className=\"key-row row-1\">\n        <button onClick={() => allClear()} className=\"key\"> AC </button>\n        <button onClick={(event) => handleSymbol(event)} className=\"key\"> ( </button>\n        <button onClick={(event) => handleSymbol(event)} className=\"key\"> ) </button>\n        <button onClick={(event) => handleSymbol(event)} className=\"key\"> รท </button>\n      </section>\n\n      <section className=\"key-row row-2\">\n        <button onClick={(event) => handleNumber(event)} className=\"key\"> 7 </button>\n        <button onClick={(event) => handleNumber(event)} className=\"key\"> 8 </button>\n        <button onClick={(event) => handleNumber(event)} className=\"key\"> 9 </button>\n        <button onClick={(event) => handleSymbol(event)} className=\"key\"> x </button>\n      </section>\n\n      <section className=\"key-row row-3\">\n        <button onClick={(event) => handleNumber(event)} className=\"key \"> 4 </button>\n        <button onClick={(event) => handleNumber(event)} className=\"key\"> 5 </button>\n        <button onClick={(event) => handleNumber(event)} className=\"key\"> 6 </button>\n        <button onClick={(event) => handleSymbol(event)} className=\"key\"> - </button>\n      </section>\n\n      <section className=\"key-row row-4\">\n        <button onClick={(event) => handleNumber(event)} className=\"key \"> 1 </button>\n        <button onClick={(event) => handleNumber(event)} className=\"key\"> 2 </button>\n        <button onClick={(event) => handleNumber(event)} className=\"key\"> 3 </button>\n        <button onClick={(event) => handleSymbol(event)} className=\"key\"> + </button>\n      </section>\n\n      <section className=\"key-row row-5\">\n        <button onClick={(event) => handleNumber(event)} className=\"key zero-key\"> 0 </button>\n        <button onClick={(event) => handleSymbol(event)} className=\"key\"> . </button>\n        <button onClick={() => {evaluate()}} className=\"key\"> = </button>\n      </section>\n    </div>\n  )\n}\n\nexport default Keyboard","import React from 'react';\nimport './ResultScreen.css';\n\nconst ResultScreen = ({ shadowResult, result, currentSequence }) => {\n\n  return (\n    <div className=\"result-screen\">\n      <p  className={`input-display ${result ? \"hidden\" : \"\"}`}>{currentSequence}</p>\n      <p  className={`shadow-result ${result ? \"hidden\" : \"\"}`}>{shadowResult}</p>\n      <p  className={`result ${result ? \"\" : \"hidden\"}`}>{result}</p>\n    </div>\n  )\n}\n\nexport default ResultScreen","export const fetchCalculations = async () => {\n  const response = await fetch('https://calculation-station.herokuapp.com/calculations')\n    const data = await response.json();\n    return data;\n}\n\nexport const addCalculation = async (calculation) => {\n  calculation = {\"sequence\": calculation}\n  try {\n    const response = await fetch(\n      \"https://calculation-station.herokuapp.com/addCalculation\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json;charset=utf-8\",\n        },\n        body: JSON.stringify(calculation)\n      }\n    );\n    const calculationsResponse = await response.json(calculation);\n    console.log(calculationsResponse)\n    return calculationsResponse;\n  } catch (error) {\n    console.error(error);\n  }\n};","//CALCULATION ERROR OCCURS WHEN INPUTING 2 OR MORE SIMILAR OPERATORS IN ONE SEQUENCE,\n//THIS IS BECAUSE THE INDEXOF() IS FINDING THE FIRST CHARACTER MATCHING INSTEAD OF BOTH\n//Ref: Line 61\n\nimport React, { Component } from 'react';\nimport './Calculator.css';\nimport Keyboard from \"../Keyboard/Keyboard\"\nimport ResultScreen from \"../ResultScreen/ResultScreen\"\nimport { addCalculation } from '../../apiCalls'\n\nconst Parser = require('expr-eval').Parser;\n\nclass Calculator extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentSequence: '',\n      result: '',\n      shadowResult: '',\n    }\n  }\n\n  allClear = () => {\n    this.setState({\n      currentSequence: '',\n      result: '',\n      shadowResult: '',\n    })\n  }\n\n  beautifyResult = (result) => {\n    result = result.toFixed(3)\n    result = result % 1 === 0 ? Math.trunc(result) : result\n    return result\n  }\n\n  beautifySequence = (sequence) => {\n    const beautifiedSequence = sequence.split('').join(' ');\n    return beautifiedSequence\n  }\n\n  calculate = () => {\n    let sequence = this.state.currentSequence\n    sequence = this.replaceChar(sequence, 'x', '*')\n    sequence = this.replaceChar(sequence, 'รท', '/')\n    let result = Parser.evaluate(sequence)\n    if(result == 'Infinity') {\n      result = 0\n    }\n    result = this.beautifyResult(result)\n    return result\n  }\n\n  clearResult = () => {\n    this.setState({\n      result: '',\n    })\n  }\n\n  replaceChar = (sequence, oldChar, newChar) => {\n    if(sequence.indexOf(oldChar)) {\n      let index = sequence.indexOf(oldChar);\n      let input = sequence.split('');\n      input[index] = newChar;\n      return input.join(\"\")\n    }\n  }\n\n  sendCalculation = async (result, sequence) => {\n    sequence = this.beautifySequence(sequence)\n    const calculation = `${sequence} = ${result}`\n    const calculations = await addCalculation(calculation)\n    return calculations\n  }\n\n  storeKey = (clickedKey, symbol) => {\n    let currentState = this.state.currentSequence\n    let updatedState = this.checkSequence(currentState, clickedKey, symbol)\n    this.setState({\n      currentSequence: updatedState\n    })\n  }\n\n  checkSequence = (currentState, clickedKey, symbol) => {\n    if(symbol || this.state.result != this.state.currentSequence) {\n      return currentState += clickedKey\n    } else {\n      return clickedKey\n    }\n  }\n\n  storeResult = (result, sequence) => {\n    this.setState({\n      currentSequence: result,\n      result: result\n    })\n    const calculations = this.sendCalculation(result, sequence)\n    return calculations\n  }\n\n  updateShadow = (shadowResult) => {\n    this.setState({\n      shadowResult: shadowResult\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"calculator\">\n        <ResultScreen shadowResult={this.state.shadowResult} result={this.state.result} currentSequence={this.state.currentSequence} />\n        <Keyboard updateCalculations={this.props.updateCalculations} clearResult={this.clearResult} updateShadow={this.updateShadow} currentSequence={this.state.currentSequence} storeResult={this.storeResult} calculate={this.calculate} allClear={this.allClear} storeKey={this.storeKey} />\n      </div>\n    )\n  }\n}\n\nexport default Calculator","import React, { Component } from 'react';\nimport CalculationBoard from '../CalculationBoard/CalculationBoard';\nimport Calculator from \"../Calculator/Calculator\"\nimport { fetchCalculations } from '../../apiCalls'\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      fetchedCalculations: [],\n    }\n  }\n  \n\n  componentDidMount = async () => {\n    const calculations = await fetchCalculations()\n    this.setState({\n      fetchedCalculations: calculations\n    })\n  }\n\n  updateCalculations = (updatedCalculations) => {\n    this.setState({\n      fetchedCalculations: updatedCalculations.calculations\n    })\n  }\n\n\n  render() {\n    return (\n      <div className=\"App\">\n        {/* <h1>Calculation Station</h1> */}\n        <section className=\"components\">\n          <CalculationBoard currentState={this.state}/>\n          <Calculator updateCalculations={this.updateCalculations}/>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}